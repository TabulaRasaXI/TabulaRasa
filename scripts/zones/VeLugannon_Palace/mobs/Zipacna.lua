-----------------------------------
-- Area: VeLugannon Palace
--  Mob: Zipacna
-----------------------------------
require("scripts/globals/pathfind")
-----------------------------------
local entity = {}

local pathNodes =
{
    { x = -202, y = 0, z = 391 },
    { x = -209, z = 387 },
    { x = -214, z = 381 },
    { x = -238, z = 380 },
    { x = -256, y = 4, z = 381 },
    { x = -261, y = 8, z = 400 },
    { x = -257, y = 12, z = 417 },
    { x = -219, y = 16, z = 420 },
    { x = -220, z = 448 },
    { x = -212, z = 459 },
    { x = -130, z = 458 },
    { x = -118, z = 420 },
    { x = -131, z = 381 },
    { x = -212, z = 380 },
    { x = -220, z = 392 },
    { x = -219, z = 420 },
    { x = -257, y = 12, z = 417 },
    { x = -261, y = 8, z = 400 },
    { x = -256, y = 4, z = 381 },
    { x = -238, y = 0, z = 380 },
    { x = -214, z = 381 },
    { x = -209, z = 387 },
    { x = -194, z = 388 },
    { x = -179, z = 379 },
    { x = -134, z = 379 },
    { x = -115, z = 417 },
    { x = -112, z = 454 },
    { x = -105, z = 460 },
    { x = -80, z = 460 },
    { x = -65, z = 459 },
    { x = -60, z = 452 },
    { x = -59, z = 420 },
    { x = 59, z = 420 },
    { x = 60, z = 429 },
    { x = 60, z = 445 },
    { x = 62, z = 456 },
    { x = 78, z = 460 },
    { x = 108, z = 458 },
    { x = 132, z = 381 },
    { x = 185, z = 380 },
    { x = 199, z = 391 },
    { x = 218, z = 380 },
    { x = 259, y = 4, z = 383 },
    { x = 258, y = 12, z = 418 },
    { x = 248, y = 14, z = 420 },
    { x = 219, y = 16, z = 420 },
    { x = 219, z = 386 },
    { x = 210, z = 379 },
    { x = 119, z = 380 },
    { x = 140, z = 381 },
    { x = 140, z = 419 },
    { x = 175, z = 459 },
    { x = 211, z = 459 },
    { x = 220, z = 451 },
    { x = 219, z = 420 },
    { x = 248, y = 14, z = 420 },
    { x = 258, y = 12, z = 418 },
    { x = 259, y = 4, z = 383 },
    { x = 218, y = 0, z = 380 },
    { x = 199, z = 391 },
    { x = 185, z = 380 },
    { x = 132, z = 381 },
    { x = 108, z = 458 },
    { x = 78, z = 460 },
    { x = 62, z = 456 },
    { x = 60, z = 445 },
    { x = 60, z = 429 },
    { x = 59, z = 420 },
    { x = -59, z = 420 },
    { x = -60, z = 452 },
    { x = -65, z = 459 },
    { x = -80, z = 460 },
    { x = -105, z = 460 },
    { x = -112, z = 454 },
    { x = -115, z = 417 },
    { x = -134, z = 379 },
    { x = -179, z = 379 },
    { x = -191, z = 385 },
    { x = -195, z = 396 },
    { x = -202, z = 391 },
    { x = -209, z = 387 },
    { x = -214, z = 381 },
    { x = -238, z = 380 },
    { x = -256, y = 4, z = 381 },
    { x = -261, y = 8, z = 400 },
    { x = -257, y = 12, z = 417 },
    { x = -219, y = 16, z = 420 },
    { x = -220, z = 448 },
    { x = -212, z = 459 },
    { x = -130, z = 458 },
    { x = -118, z = 420 },
    { x = -131, z = 381 },
    { x = -212, z = 380 },
    { x = -220, z = 392 },
    { x = -219, z = 420 },
    { x = -257, y = 12, z = 417 },
    { x = -261, y = 8, z = 400 },
    { x = -256, y = 4, z = 381 },
    { x = -238, y = 0, z = 380 },
    { x = -214, z = 381 },
    { x = -209, z = 387 },
    { x = -202, z = 391 },
}

entity.onMobSpawn = function(mob)
    mob:setMod(xi.mod.REGAIN, 200)
    mob:pathThrough(pathNodes, xi.path.flag.PATROL)
end

entity.onMobDeath = function(mob, player, optParams)
end

entity.onMobDespawn = function(mob)
    xi.mob.nmTODPersist(mob, math.random(10800, 14400)) -- respawn 3-4 hrs
end

return entity
